### HTTPS

- 애플리케이션 계층과 전송 계층 사이에 신뢰 계층인 SSL/TLS 계층을 넣은 신뢰할 수 있는 HTTP 요청

- 통신을 암호화

- HTTP/2는 HTTPS 위에서 동작함

#### SSL/TLS

- SSL (Secure Socket Layer)

- TLS (Transport Layer Security Protocol)

- SSL/TLS
  
  - 전송 계층에서 보안을 제공하는 프로토콜
  
  - 클라이언트와 서버가 통신할 때 SSL/TLS를 통해 제3자가 메시지를 도청하거나 변조하지 못하도록 함
  
  - 보안 세션을 기반으로 데이터를 암호화
    
    - 보안 세션
      
      - 보안이 시작되고 끝나는 동안 유지되는 세션
      
      - 보안 세션이  만들어질 때 인증 메커니즘, 키 교환 암호화 알고리즘, 해싱 알고리즘이 사용
    
    - 세션
      
      - 운영체제가 어떠한 사용자로부터 자신의 자산 이용을 허락하는 일정한 기간
  
  - 데이터 송수신 과정
    
    - 클라이언트에서 사이퍼 슈트를 서버에 전달하면 서버는 받은 사이퍼 슈트의 암호화 알고리즘 리스트를 제공할 수 있는지 확인
      
      - 사이퍼 슈트
        
        - 프로토콜, AEAD 사이퍼 모드, 해싱 알고리즘이 나열된 규약
      
      - 키 교환 암호화 알고리즘
        
        - 디피-헬만 방식 (Diffie-Hellman)을 근간으로 하는 ECDHE와 DHE
          
          - 디피-헬만 키 교환 암호화 알고리즘
            
            - `y=g^x mod p`
            
            - 위의 식에서 g, x, p를 알면 y는 구하기 쉽지만 g, y, p를 알면 x를 구하기는 어렵다는 원리에 기반한 알고리즘
            
            - 클라이언트와 서버 모두 개인키와 공개키를 생성하고 서로에게 공개키를 보내고 공개키와 개인키를 결합하여 PSK(사전 합의된 비밀키) 생성
              
              - 악의적인 공격자가 개인키나 공개키를 가지고 있어도 PSK가 없기 때문에 아무것도 할 수 없음
    
    - 제공 가능하다면 서버에서 클라이언트로 인증서를 보내는 인증 매커니즘이 시작
      
      - 인증 매커니즘
        
        - CA(Certificate Authorities)에서 발급한 인증서를 기반
          
          - 안전한 연결을 시작하는데 있어 필요한 공개키를 클라이언트에 제공하고 사용자가 접속한 서버가 신뢰할 수 있는 서버임을 보장
          
          - 인증서
            
            - 서비스 정보, 공개키, 지문, 디지털 서명 등
    
    - 이후 해싱 알고리즘 등으로 암호화된 데이터의 송수신 시작
      
      - 해싱 알고리즘
        
        - 데이터를 추정하기 힘든 더 작고, 섞여있는 조각으로 만드는 알고리즘

#### SEO에도 도움이 되는 HTTPS

- SEO (Search Engine Optimization)
  
  - 검색엔진 최적화
  
  - 사용자들이 검색엔진으로 웹 사이트를 검색했을 때 그 결과를 페이지 상단에 노출시켜 많은 사람이 볼 수 있도록 최적화하는 방법
  
  - 구글은 사이트 내 모든 요소가 동일하다면 HTTPS 서비스를 하는 사이트가 그렇지 않은 사이트보다 SEO 순위가 높을 것이라고 밝힘

- SEO를 위한 방법
  
  - 캐노니컬 설정
    
    - `<link rel="canonical" />`
    
    ```js
    <link rel="canonical" href="https://~~~.com" />
    ```
  
  - 메타 설정
    
    - html 파일의 가장 윗 부분인 메타 설정
  
  - 페이지 속도 개선
  
  - 사이트맵 관리

#### HTTPS 구축방법

- 직접 CA에서 구매한 인증키를 기반으로 HTTPS 서비스 구축

- 서버 앞단에 HTTPS를 제공하는 로드밸런서 두기

- 서버 앞단에 HTTPS를 제공하는 CDN 두기
