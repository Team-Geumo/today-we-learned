### 3계층 (네트워크 계층)

- 네트워크 계층 (Network Layer)
  
  - 다양한 길이의 패킷을 네트워크를 통해 전달하고 그 과정에서 전송 계층이 요구하는 서비스 품질(QoS)을 위한 수단을 제공하는 계층
  
  - 라우팅, 패킷 포워딩, 인터 네트워킹 (Inter-Networking) 등을 수행

- 네트워크 계층 프로토콜
  
  - IP (Internet Protocol)
    
    - 송수신 간의 패킷 단위로 데이터를 교환하는 네트워크에서 정보를 주고받는데 사용하는 통신 프로토콜

### IPv4

- IPv4 (Internet Protocol version 4)
  
  - 인터넷에서 사용되는 패킷 교환 네트워크 상에서 데이터를 교환하기 위한 32비트 주소체계를 갖는 네트워크 계층의 프로토콜

- IPv4 헤더
  
  - IP 패킷의 앞 부분에서 주소 등 각종 제어정보를 담고 있는 부분
  
  - 헤더 사이즈는 옵션 미지정 시 최소 20바이트 이상
    
    - IPv6의 경우 최소 40바이트 이상
  
  ![](image/IPv4_Header.jpg)

- IPv4 주소체계
  
  - IPv4 주소체계는 10진수로 총 12자리이며, 네 부분으로 나뉨
  
  - 각 부분은 0~255 까지의 3자리 수로 표현
  
  - IPv4 주소는 32비트로 구성
    
    - 서브넷 마스크 (Subnet Mask)로 Network 부분과 Host 부분을 구분
    
    - 현재는 주소 공간의 고갈로 128비트 주소체계를 갖는 IPv6가 등장하여 확산
  
  - IPv4의 클래스 분류
    
    | 분류    | 설명                                                          | 범위                                                         |
    | ----- | ----------------------------------------------------------- | ---------------------------------------------------------- |
    | A 클래스 | 가장 높은 단위의 클래스로서 1~126 (0, 127로 시작되는 IP는 예약됨) 범위의 IP 주소를 가짐  | 0.0.0.0 ~ 127.255.255.255 (A 클래스 서브넷 마스크: 255.0.0.0)       |
    |       | 두 번째, 세 번째, 네 번째 단위의 세 숫자는 A 클래스가 자유롭게 네트워크 사용자에게 부여 가능한 IP |                                                            |
    | B 클래스 | 두 번째로 높은 단위의 클래스로서, 첫 번째 단위의 세 숫자는 128~191 가운데 하나를 가짐       | 128.0.0.0 ~ 191.255.255.255 (B 클래스 서브넷 마스크: 255.255.0.0)   |
    |       | 두 번째 단위의 세 숫자는 B 클래스가 접속할 수 있는 네트워크를 지시                     |                                                            |
    | C 클래스 | 최하위 클래스로서, 아이피 구성에서 첫 번째 단위의 세 숫자는 192~223 가운데 하나를 가짐       | 192.0.0.0 ~ 223.255.255.255 (C 클래스 서브넷 마스크: 255.255.255.0) |
    |       | 두 번째, 세 번째 단위의 세 숫자는 C 클래스가 접속할 수 있는 네트워크를 지시               |                                                            |
    |       | C 클래스가 자유롭게 부여할 수 있는 IP는 네 번째 단위의 254개 (2개는 예약됨)            |                                                            |
    | D 클래스 | 멀티캐스트 용도로 예약된 주소                                            | 224.0.0.0 ~ 239.255.255.255                                |
    | E 클래스 | 연구를 위해 예약된 주소                                               | 240.0.0.0 ~ 255.255.255.255                                |

- 서브네팅
  
  - 서브네팅 (subnetting)
    
    - IP 주소 고갈문제를 해결하기 위해 원본 네트워크를 여러 개의 네트워크로 분리하는 과정
  
  - 서브네팅 종류
    
    - FLSM (Fixed Length Subnet Masking)
      
      - 서브넷의 길이를 고정적으로 사용
      
      - 한 대역을 동일한 크기로 나누는 방식
    
    - VLSM (Variable Length Subnet Masking)
      
      - 서브넷의 길이를 가변적으로 사용
      
      - 한 대역을 다양한 크기로 나누는 방식