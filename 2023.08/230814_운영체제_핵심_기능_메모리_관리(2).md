### 운영체제 핵심 기능

- 운영체제
  
  - 중앙처리장치, 메모리, 스토리지, 주변 기기 등을 적절히 관리
  
  - 초기에는 메모리 용량에 제한이 많아 소프트웨어 개발 시 메모리 관리가 매우 중요했으나, 최근에는 운영체제에서 대부분 자동으로 관리해주어 편리해짐
  
  - 개발 및 시스템 환경이 클라우드화되면서 자원에 대한 관리 노력이 줆

- 메모리 관리
  
  - 프로그램의 실행이 종료될 때까지 메모리를 가용한 상태로 유지 및 관리하는 기능
  
  - 프로그램 실행 중 메모리가 꽉 차게 되면 시스템의 속도가 느려지고 때로는 시스템이 멈추는 현상이 발생
  
  - 메모리에 있는 프로그램은 CPU로 이동하여 처리
    
    - CPU는 가상 주소, 메모리는 물리주소를 사용하는데 MMU가 주소를 매핑하는 역할 수행
      
      - MMU (Memory Management Unit)
        
        - CPU가 메모리에 접근하는 것을 관리하는 컴퓨터 하드웨어 부품
        
        - 가상 메모리 주소를 실제 메모리 주소로 변환하는 장치

### 메모리 관리

- 메모리 배치 기법
  
  - 최초 적합 (First Fit)
    
    - 프로세스가 적재될 수 있는 가용 공간 중에서 `첫 번째` 분할에 해당하는 방식
  
  - 최적 적합 (Best Fit)
    
    - 가용 공간 중에서 `가장 크기가 비슷한 공간`을 선택하여 프로세스를 적재하는 방식
    
    - 공백 최소화 장점이 있음
  
  - 최악 적합 (Worst Fit)
    
    - 프로세스의 가용 공간 중에서 `가장 큰 공간`에 할당하는 방식
  
  - 예시
    
    | 160MB | 350MB | 380MB | 600MB | 180MB |
    | ----- | ----- | ----- | ----- | ----- |
    
    - 위와 같은 공간이 있을 때 프로세스 A(215MB), 프로세스 B(171MB), 프로세스 C(86MB)를 순서대로 적재
      
      - 최초 적합
        
        | 160MB  | 350MB  | 380MB  | 600MB | 180MB |
        | ------ | ------ | ------ | ----- | ----- |
        | 프로세스 C | 프로세스 A | 프로세스 B |       |       |
      
      - 최적 적합
        
        | 160MB  | 350MB  | 380MB | 600MB | 180MB  |
        | ------ | ------ | ----- | ----- | ------ |
        | 프로세스 C | 프로세스 A |       |       | 프로세스 B |
      
      - 최악 적합
        
        | 160MB | 350MB  | 380MB  | 600MB  | 180MB |
        | ----- | ------ | ------ | ------ | ----- |
        |       | 프로세스 C | 프로세스 B | 프로세스 A |       |

- 메모리 할당 기법
  
  - 프로세스를 실행시키기 위해 주기억장치에 어떻게 할당할 것인지에 대한 기법
  
  - 종류
    
    - 연속 할당 기법
      
      - 실행을 위한 각 프로세스를 주기억장치 공간 내에서 인접되게 `연속하여` 저장하는 방법
      
      - 기법
        
        - 단일 분할 할당 기법
          
          - 오버레이, 스와핑
        
        - 다중 분할 할당 기법
          
          - 고정 분할 할당 기법, 동적 분할 할당 기법
    
    - 분산 할당 기법
      
      - 하나의 프로세스를 `여러 개의 조각으로 나누어` 주기억장치 공간 내 분산하여 배치하는 방법
      
      - 주로 가상기억장치에서 사용
      
      - 기법
        
        - 페이징 기법
          
          - 가상기억장치 내의 프로세스를 일정하게 분할하여 주기억장치의 분산된 공간에 적재시킨 후 프로세스를 수행시키는 기법
        
        - 세그멘테이션 기법
          
          - 가상기억장치 내의 프로세스를 가변적인 크기의 블록으로 나누고 메모리를 할당하는 기법
          
          - 분할 형태가 배열이나 함수와 같은 논리적인 다양한 크기의 가변적인 크기로 관리
        
        - 페이징/세그멘테이션 기법
          
          - 외부 단편화 및 내부 단편화 최소화를 위해 세그멘테이션 기법과 페이징 기법을 결합한 기법

- 교체 기법
  
  - 개념
    
    - 주기억 장치에 있는 프로세스 중 어떤 프로세스를 제거할 것인지를 결정하는 기법
    
    - 새로운 페이지를 할당하기 위해 현재 할당된 페이지 중 어느 것과 교체할지 결정하는 방법
  
  - 유형
    
    - FIFO (First In First Out)
      
      - 각 페이지가 주기억장치에 적재될 때마다 그때의 시간을 기억시켜 가장 먼저 들어와있던 페이지를 교체하는 기법
    
    - LRU (Least Recently Used)
      
      - 사용된 시간을 확인하여 가장 오랫동안 사용되지 않은 페이지를 선택하여 교체하는 기법
      
      - 프로그램의 지역성의 원리에 따라서 최근에 참조된 페이지는 앞으로도 참조될 가능성이 크고, 최근에 참조되지 않은 페이지는 앞으로도 참조되지 않을 가능성이 크다는 전제로 구현된 알고리즘
    
    - LFU (Least Frequently Used)
      
      - 사용된 횟수를 확인하여 참조 횟수가 가장 적은 페이지를 선택하여 교체하는 기법
    
    - OPT (OPTimal Replacement)
      
      - 앞으로 가장 오랫동안 사용하지 않을 페이지를 교체하는 기법
      
      - 페이지의 부재 횟수가 가장 적게 발생하는 가장 효율적인 알고리즘
    
    - NUR (Not Used Recently)
      
      - 최근에 사용되지 않은 페이지는 앞으로도 사용되지 않을 가능성이 크다는 것을 전제로 최근에 사용하지 않은 페이지를 교체하는 기법
      
      - LRU와 비슷한 알고리즘이지만 LRU에서 나타나는 시간적인 오버헤드를 줄일 수 있음
      
      - 최근의 사용 여부를 확인하기 위해 페이지마다 참조 비트와 변형 비트 사용
    
    - SCR (Second Chance Replacement)
      
      - 가장 오랫동안 주기억장치에 있던 페이지 중 자주 사용되는 페이지의 교체를 방지하기 위한 기법
      
      - FIFO 기법의 단점을 보완

- 교체 기법 알고리즘 계산
  
  - FIFO 알고리즘
    
    - 주기억장치 페이지에 순차적으로 참조 스트링이 들어오고, 페이지 교체는 가장 먼저 들어온 페이지부터 교체하는 알고리즘
    
    - 문제풀기
      
      - 프로세스에 3개의 페이지 프레임이 고정으로 할당되어 있고, 초기에 3개의 페이지 프레임이 모두 비어있다고 가정
      
      - 참조 스트링 `w = 0 1 2 3 0 1 4 0 1 2 3 4`을 처리하는 동안 알고리즘별 페이지 부재가 몇 회 발생하는지 계산
        
        - 9회
  
  - LRU 알고리즘
    
    - 사용된 시간을 확인하여 가장 오랫동안 사용되지 않은 페이지를 선택하여 교체하는 알고리즘
    
    - 문제풀기
      
      - 프로세스에 3개의 페이지 프레임이 고정으로 할당되어 있고, 초기에 3개의 페이지 프레임이 모두 비어있다고 가정
      
      - 참조 스트링 `w = 2 3 2 1 5 2 3 5`을 처리하는 동안 알고리즘별 페이지 부재가 몇 회 발생하는지 계산
        
        - 5회
  
  - LFU 알고리즘
    
    - 사용된 횟수를 확인하여 참조 횟수가 가장 적은 페이지를 선택하여 교체하는 알고리즘
    
    - 문제풀기
      
      - 프로세스에 3개의 페이지 프레임이 고정으로 할당되어 있고, 초기에 3개의 페이지 프레임이 모두 비어있다고 가정
      
      - 참조 스트링 `w = 2 3 1 3 1 2 4 5`을 처리하는 동안 알고리즘별 페이지 부재가 몇 회 발생하는지 계산
        
        - 5회