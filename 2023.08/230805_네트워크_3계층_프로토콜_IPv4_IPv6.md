### 3계층 (네트워크 계층)

- 네트워크 계층 (Network Layer)
  
  - 다양한 길이의 패킷을 네트워크를 통해 전달하고 그 과정에서 전송 계층이 요구하는 서비스 품질(QoS)을 위한 수단을 제공하는 계층
  
  - 라우팅, 패킷 포워딩, 인터 네트워킹 (Inter-Networking) 등을 수행

- 네트워크 계층 프로토콜
  
  - IP (Internet Protocol)
    
    - 송수신 간의 패킷 단위로 데이터를 교환하는 네트워크에서 정보를 주고받는데 사용하는 통신 프로토콜

### IPv4와 IPv6

- IPv4와 IPv6
  
  - IPv4 (Internet Protocol version 4)
    
    - 인터넷에서 사용되는 패킷 교환 네트워크 상에서 데이터를 교환하기 위한 32비트 주소체계를 갖는 네트워크 계층의 프로토콜
  
  - IPv6 (Internet Protocol version 6)
    
    - IPv4의 주소 고갈, 보안성, 이동성 지원 등의 문제점을 해결하기 위해 개발된 128Bit 주소체계를 갖는 차세대 인터넷 프로토콜

- IPv4와 IPv6 특징
  
  | 구분        | IPv4                                        | IPv6                                    |
  | --------- | ------------------------------------------- | --------------------------------------- |
  | 주소 길이     | 32Bit                                       | 128Bit                                  |
  | 표시 방법     | 8비트씩 4부분으로 나뉜 10진수 (192.168.10.1)           | 16비트씩 8부분으로 나뉜 16진수 (2001:9e76:..:e11c) |
  | 주소 개수     | 약 43억 개                                     | 3.4 * 10^38개                            |
  | 주소 할당     | A, B, C, D 등 클래스 단위 비순차적 할당 (비효율적)          | 네트워크 규모 및 단말기 수에 따른 순차적 할당 (효율적)        |
  | 헤더 크기     | 20바이트의 기본 헤더 부분과 가변적인 길이를 가지고 있는 옵션 부분으로 구성 | 40바이트의 고정된 길이                           |
  | QoS       | Best Effort 방식 (보장 곤란)                      | 등급별, 서비스별 패킷 구분 보장                      |
  | 보안 기능     | IPSec 프로토콜 별도 설치                            | 보안과 인증 확장 헤더를 사용함으로써 인터넷 계층의 보안 기능을 강화  |
  | Plug&Play | 지원 안함                                       | 지원                                      |
  | 모바일 IP    | 곤란                                          | 용이                                      |
  | 웹 캐스팅     | 곤란                                          | 용이                                      |
  | 전송 방식     | 유니캐스트, 멀티캐스트, 브로드 캐스트                       | 유니캐스트, 멀티캐스트, 애니캐스트                     |

- IPv4에서 IPv6 전환 방법
  
  - IPv4에서 IPv6 전환
    
    - IPv4의 전용 호스트와 IPv6 전용 호스트 간의 통신을 위한 기술
      
      - 주소와 헤더의 변환을 수행
    
    - 변환 기술
      
      - 듀얼 스택, 터널링, 주소 변환 방식
  
  - 듀얼 스택 (Dual Stack)
    
    - IP 계층에 두 가지 (IPv4, IPv6) 프로토콜이 모두 탑재되어 있고 통신 상대방에 따라 해당 IP 스택을 선택하는 방법
    
    - 특징
      
      - 장점
        
        - DNS 주소 해석 라이브러리 (DNS Resolver Library)가 두 IP 주소 유형을 모두 지원
      
      - 단점
        
        - 프로토콜 스택 수정으로 인한 과다한 비용 발생
  
  - 터널링 (Tunneling)
    
    - IPv6 망에서 인접한 IPv4 망을 거쳐 다른 IPv6 망으로 통신할 때 IPv4 망에 터널을 만들고 IPv4에서 사용하는 프로토콜로 캡슐화하여 전송하는 방법
    
    - 특징
      
      - 장점
        
        - 여러  표준화 활동이 존재하고 다양한 기술 표준이 제안되고 있읍
      
      - 단점
        
        - 구현이 어려우며 복잡한 동작 과정을 거침
  
  - 주소 변환 (Address Translation)
    
    - 게이트웨이 관점이라고도 함
    
    - IPv4 망과 IPv6 망 사이에 주소 변환기를 사용하여 서로 다른 네트워크 상의 패킷을 변환시키는 방법
      
      - 변환 방법에 따라 헤더 변환방식, 전송 계층 릴레이 방식, 응용 계층 게이트웨이 방식으로 분류됨
    
    - 특징
      
      - 장점
        
        - IPv4, IPv6 호스트의 프로토콜 스택에 대한 수정이 필요없으며, 변환 방식이 투명하고 구현이 용이
      
      - 단점
        
        - 고가의 주소 변환기 필요