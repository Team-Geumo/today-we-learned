### ERD와 정규화 과정

- ERD (Entity Relationship Diagram)
  
  - 릴레이션 간의 관계를 정의한 것
  
  - 데이터베이스를 구축할 때 가장 기초적인 역할

- ERD의 중요성
  
  - 시스템의 요구 사항을 기반으로 작성되므로 이를 기반으로 데이터베이스를 구축
  
  - 구축 이후에도 디버깅 또는 비즈니스 프로세스 재설계가 필요한 경우 설계도 역할

- ERD의 단점
  
  - 비정형 데이터를 충분히 표현할 수 없음
    
    - 비정형 데이터
      
      - 미리 정의된 데이터 모델이 없거나 미리 정의된 방식으로 정리되지 않은 정보
      
      - 비구조화 데이터

- 정규화 과정
  
  - 릴레이션 간의 잘못된 종속 관계로 인해 데이터베이스 이상 현상이 일어나서 이를 해결하거나, 저장 공간을 효율적으로 사용하기 위해 릴레이션을 여러 개로 분리하는 과정
  
  - 정규형 원칙을 기반
    
    - 정규형 원칙
      
      - 같은 의미를 표현하는 릴레이션이지만
        
        - 좀 더 좋은 구조로 만들어야 함
        
        - 자료의 중복성은 감소해야 함
        
        - 독립적인 관계는 별개의 릴레이션으로 표현해야 함
        
        - 각각의 릴레이션은 독립적인 표현이 가능해야 함
  
  - 정규화된 정도는 정규형 (NF, Normal Form)으로 표현
  
  - 기본 정규형
    
    - 제1정규형, 제2정규형, 제3정규형, 보이스/코드 정규형
      
      - 제1정규형
        
        - `릴레이션의 모든 도메인이 더 이상 분해될 수 없는 원자값만으로 구성되어야 함`
        
        - 릴레이션의 속성 값 중 한 개의 기본키에 대해 두 개 이상의 값을 가지는 반복 집합이 있으면 안됨
      
      - 제2정규형
        
        - 릴레이션이 제1정규형이며 부분 함수의 종속성을 제거한 형태
          
          - 부분 함수의 종속성 제거
            
            - `기본키가 아닌 모든 속성이 기본키에 완전 함수 종속적이어야 함`
            
            - 릴레이션을 분해할 때 동등한 릴레이션으로 분해해야 함
            
            - 정보 손실이 발생하지 않는 무손실 분해여야 함
      
      - 제3정규형
        
        - 릴레이션이 제2정규형이고 `기본키가 아닌 모든 속성이 이행적 함수 종속 (transitive FD)을 만족하지 않는 상태`
          
          - 이행적 함수 종속
            
            - A -> B와 B -> C가 존재하면 A -> C가 성립하며 이 때 C가 A에 이행적으로 함수 종속이 되었다고 표현
      
      - 보이스/코드 정규형 (BCNF)
        
        - 릴레이션이 제3정규형이고 결정자가 후보키가 아닌 함수 종속 관계를 제거하여 `릴레이션의 함수 종속 관계에서 모든 결정자가 후보키인 상태`
          
          - 결정자
            
            - 함수 종속 관계에서 특정 종속자를 결정짓는 요소 (결정자와 종속자)
  
  - 고급 정규형
    
    - 제4정규형, 제5정규형

- 정규형 과정을 거친다고 성능이 무조건 좋아지는 것은 아님
  
  - 서비스에 따라 정규화 또는 비정규화 과정 진행해야 함
