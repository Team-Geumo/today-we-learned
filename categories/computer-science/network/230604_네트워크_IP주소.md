### IP 주소

- ARP (Address Resolution Protocol)
  
  - IP 주소로부터 MAC 주소를 구하는 IP와 MAC 주소의 다리 역할을 하는 프로토콜
  
  - 컴퓨터와 컴퓨터 간 통신은 IP 주소 기반으로 통신
    
    - 더 정확히는 IP 주소에서 ARP를 통해 MAC 주소를 찾아 MAC 주소를 기반으로 통신
  
  - 가상 주소인 IP 주소를 실제 주소인 MAC 주소로 변환
    
    - RARP
      
      - 실제 주소인 MAC 주소를 가상 주소인 IP 주소로 변환

- 홉바이홉 (hop by hop) 통신
  
  - IP 주소를 통해 통신하는 과정
  
  - 통신 장치에 있는 라우팅 테이블의 IP를 통해 시작 주소부터 다음 IP로 계속해서 이동하는 라우팅 과정을 거쳐 패킷이 최종 목적지까지 도달하는 통신
  
  - 라우팅 테이블 (routing table)
    
    - 송신자에서 수신자까지 도달하기 위해 사용
    
    - 라우터에 들어가 있는 목적지 정보와 그 목적지로 가기 위한 방법이 들어있는 리스트
  
  - 게이트웨이 (gateway)
    
    - 서로 다른 통신망, 프로토콜을 사용하는 네트워크 간의 통신을 가능하게 하는 관문 역할을 하는 컴퓨터나 소프트웨어
    
    - 서로 다른 네트워크 상의 통신 프로토콜을 변환해주는 역할을 하기도
    
    - 윈도우의 명령 프롬프트에서 `netstat -r` 명령어를 실행하여 확인 가능
      
      - `netstat -r` 명령어로 라우팅 테이블을 확인할 수 있고 게이트웨이는 라우팅 테이블을 통해 확인 가능

- IP 주소 체계
  
  - IP 주소
    
    - IPv4
      
      - 32비트를 8비트 단위로 점을 찍어 표기
    
    - IPv6
      
      - 64비트를 16비트 단위로 점을 찍어 표기
  
  - 클래스 기반 할당 방식 (CIDR)
    
    - A, B, C, D, E의 5개 클래스로 구분
      
      ![](../../_image/%ED%81%B4%EB%9E%98%EC%8A%A4%20%EA%B8%B0%EB%B0%98%20%ED%95%A0%EB%8B%B9%20%EB%B0%A9%EC%8B%9D.png)
    
    - A, B, C 클래스는 일대일 통신으로 사용
    
    - D 클래스는 멀티캐스트 통신에 사용
    
    - E 클래스는 예비용으로 사용
    
    - 사용하는 주소보다 버리는 주소가 많은 단점
      
      - 이를 해결하기 위한 DHCP, IPv6, NAT
  
  - DHCP (Dynamic Host Configuration Protocol)
    
    - IP 주소 및 기타 통신 매개변수를 자동으로 할당하기 위한 네트워크 관리 프로토콜
    
    - 네트워크 장치의 IP 주소를 수동으로 설정할 필요 없이 인터넷에 접속할 때마다 자동으로 IP 주소 할당
  
  - NAT (Network Address Translation)
    
    - 패킷이 라우팅 장치를 통해 전송되는 동안 패킷의 IP 주소 정보를 수정하여 IP 주소를 다른 주소로 매핑
    
    - 공인 IP와 사설 IP로 나누어 많은 주소 처리
    
    - NAT를 가능하게 하는 소프트웨어
      
      - ICS, RRAS, Netfilter 등
    
    - 공유기
      
      - 인터넷 공유기에는 NAT 기능이 탑재되어 인터넷 회선 하나를 개통하고 인터넷 공유기를 달면 여러 PC를 연결하여 사용할 수 있음
        
        - 여러 대의 호스트가 하나의 공인 IP 주소를 사용하여 인터넷에 접속 가능
    
    - 보안
      
      - 내부 네트워크에서 사용하는 IP 주소와 외부에 드러나는 IP 주소를 다르게 유지할 수 있기 때문에 내부 네트워크에 대한 어느 정도의 보안이 가능
    
    - 단점
      
      - 여러 명이 동시에 인터넷을 접속하게 되므로 실제 접속하는 호스트 숫자에 따라 접속 속도가 느려질 수 있음

- IP 주소를 이용한 위치 정보
  
  - IP 주소는 인터넷에서 사용하는 네트워크 주소이므로 위치 추적이 가능
